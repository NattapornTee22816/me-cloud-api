package handler

import (
	"github.com/NattapornTee22816/me-cloud-api/pkg/repository"
	"github.com/gofiber/fiber/v3"
	"github.com/redis/go-redis/v9"
)

type AuthHandler struct {
	app     *fiber.App
	repo    *repository.Repository
	session *redis.Client
}

func NewAuthHandler(app *fiber.App, repo *repository.Repository, session *redis.Client) *AuthHandler {
	return &AuthHandler{
		app,
		repo,
		session,
	}
}

func (h *AuthHandler) Mount() {
	group := h.app.Group("/api/v1/auth")
	group.Post("/signin", h.signIn)
	group.Post("/signout", h.signOut)
	group.Post("/signup", h.signUp)
	group.Post("/verify/email", h.verifyEmail)
	group.Post("/2fa/activate", h.twoFactorAuthActivate)
}

// /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// SignIn
// /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

func (h *AuthHandler) signIn(ctx fiber.Ctx) error {
	return nil
}

// /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// SignOut
// /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

func (h *AuthHandler) signOut(ctx fiber.Ctx) error {
	return nil
}

// /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// SignUp
// /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

func (h *AuthHandler) signUp(ctx fiber.Ctx) error {
	return nil
}

// /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Verify Email
// /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

func (h *AuthHandler) verifyEmail(ctx fiber.Ctx) error {
	return nil
}

// /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Two Factor Authentication Activate
// /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

func (h *AuthHandler) twoFactorAuthActivate(ctx fiber.Ctx) error {
	return nil
}
